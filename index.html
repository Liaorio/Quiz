<!DOCTYPE>
<html>
<meta charset="utf-8"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Example</title>
<link rel="stylesheet" type="text/css" href="vendor/slick/slick.css">
<link rel="stylesheet" type="text/css" href="vendor/slick/slick-theme.css">
<link rel="stylesheet" type="text/css" href="./style.css">
</head>

<body>

<!-- Dependencies -->
<div class="quiz-container-outer">
    <div class="quiz-container-inner">

        <div class="quiz-title">
            <div class="quiz-main-title">
                Quiz of the week's news
            </div>
            <div class="quiz-sub-title">
                It's the weekly news quiz - have you been playing attention to what's has been going on in the world
                over the past seven days?
            </div>
        </div>

        <div class="slick-part">

        </div>


        <div class="quiz-result">
            <div id="result_question_1">
                <div class="quiz-result-title">Right!</div>
                <div class="quiz-result-text">
                    More than 1.5 million people have now visited the show, David Bowie ls, in eight venues around the world. About 312,000 of them saw the exhibition when it opened in London in 2013. The show is finishing its run in Bologna and moves on to Tokyo early next year.
                </div>
            </div>
            <div id="result_question_2">
                <div class="quiz-result-title">Wrong!</div>
                <div class="quiz-result-text">
                    More than 1.5 million people have now visited the show, David Bowie ls, in eight venues around the world. About 312,000 of them saw the exhibition when it opened in London in 2013. The show is finishing its run in Bologna and moves on to Tokyo early next year.
                </div>
            </div>
        </div>
    </div>
</div>


<script src="vendor/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src="vendor/slick/slick.js" type="text/javascript" charset="utf-8"></script>
<script>
    $.getJSON("./example.json",function(data){
        let questions = data.questions;
        $.each(questions, function(key, val) {
            $('.slick-part').append(
                "<div class='slick-item'>" +
                    "<div class='quiz-image'>" +
                        "<img src='asset/t2.jpg'>" +
                    "</div>" +
                    "<div class='quiz-question'>" +
                        "<div class='quiz-question-num-container'>" +
                            "<div class='quiz-question-num'>" + (key + 1) + "</div>" +
                        "</div>" +
                        "<div class='quiz-question-text'>" +
                            val.question +
                        "</div>" +
                        "<div class='quiz-question-options'>" +
                            "<ul id='`question_${key}`'>" +
                                "<li id='`question_${key}_1_li'>" +
                                    "<input type='radio' name='`question_${key}`' id='`question_${key}_1_option'>" +  val.optionsKeys[0] +
                                "</li>" +
                                "<li id='`question_${key}_2_li'>" +
                                    "<input type='radio' name='`question_${key}`' id='`question_${key}_2_option'>" +  val.optionsKeys[1] +
                                "</li>" +
                                "<li id='`question_${key}_3_li'>" +
                                    "<input type='radio' name='`question_${key}`' id='`question_${key}_3_option'>" +  val.optionsKeys[2] +
                                "</li>" +
                                "<li id='`question_${key}_4_li'>" +
                                    "<input type='radio' name='`question_${key}`' id='`question_${key}_4_option'>" +  val.optionsKeys[3] +
                                "</li>" +
                            "</ul>" +
                        "</div>" +
                    "</div>" +
                "</div>"
            )
        });
    });
</script>
<script>
    $(document).ready(function () {
        $('.slick-part').slick({
            dots: true,
            infinite: false,
            asNavFor: '.quiz-result'
        });

        $('.quiz-result').slick({
            asNavFor:'.slick-part',
            fade: true,
            arrow: false
        });

        $('.quiz-question-options ul li').click(function (e) {

            //input选中
            let option_input = e.target.childNodes[1] ? e.target.childNodes[1] : e.target;

            console.log(e.target);

            let option_input_id = option_input.getAttribute("id");
            $('#' + option_input_id).attr('checked',true);

            //li背景颜色改变
            let option_li = e.target.parentNode.nodeName == 'LI' ? e.target.parentNode : e.target;
            let option_li_id = option_li.getAttribute('id');
            $('#' + option_li_id).css('background','#B4A24E');

            //ul不能被点击
            let question_id = option_input.getAttribute("name");
            $("#" + question_id).css('pointer-events','none');
            $("#" + question_id).css('color','#efefef');

            //答案显示


        })

    })
</script>


</body>

</html>